spack:
# fixing some versions to have only one version per package in this environment
# note: these preferred versions are now set in packages.yaml
  definitions:
  - packages:
    - py-cython@0.29.33
    - py-dask@2022.10.2 
    - py-h5netcdf@0.10.0
    - py-h5py@3.6.0  #3.8.0 requires hdf5 v114 support
    - py-ipython@8.11.0
    - py-matplotlib@3.7.1 +movies
    - py-mpi4py@3.1.4
    - py-netcdf4@1.6.2
    - py-numba@0.56.4 
    # py-numpy: using specific version, which is the latest support by scipy right now
    - py-numpy@1.23.2
    - py-pandas@2.0.1 
    - py-plotly@5.14.1
    - py-scikit-learn@1.2.2
    - py-scipy@1.10.1
  # need these here, too, for the python collection
  - utilities:
    - py-pip@23.0
    - py-setuptools@67.6.0
  specs:
  - matrix:
    - [python@3.10.10 +optimizations+zlib] 
    - ['%gcc@12.1.0']
    - [target=zen3]
  - matrix:
    - [$packages, $utilities]
    - [^python@3.10.10 +optimizations+zlib]
    - ['%gcc@12.1.0']
    - [target=zen3]
  view: false
